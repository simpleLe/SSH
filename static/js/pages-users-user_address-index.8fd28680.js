(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-users-user_address-index"],{"31ca":function(e,t,a){"use strict";a.r(t);var i=a("63fc"),n=a("e959");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("484b");var d=a("828b"),c=Object(d["a"])(n["default"],i["b"],i["c"],!1,null,"dd954842",null,!1,i["a"],void 0);t["default"]=c.exports},"484b":function(e,t,a){"use strict";var i=a("e9f4"),n=a.n(i);n.a},"55e3":function(e,t,a){var i=a("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/*引入主题变色的scss文件*/\n/* 颜色变量 */\n/*\n@mixin 指令允许我们定义一个可以在整个样式表中重复使用的样式。\n*/\n/*定义全局颜色变量*/\n/*主色*/\n/* 辅色*/\n/* 价格色*/\n/*左侧按钮*/\n/*主渐变色*/\n/*辅色渐变*/\n/* 行为相关颜色 */\n/* crmeb颜色变量 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/*字体颜色(少部分其他,不限于字体)*/\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.bg-fixed[data-v-2167a2f6]{width:100%;height:%?750?%;position:absolute;top:0}.addAddress[data-v-2167a2f6]{padding-top:%?20?%}.bg_color[data-v-2167a2f6]{background-color:theme}[data-theme="theme1"] .bg_color[data-v-2167a2f6]{background-color:#e93323!important}[data-theme="theme2"] .bg_color[data-v-2167a2f6]{background-color:#fe5c2d!important}[data-theme="theme3"] .bg_color[data-v-2167a2f6]{background-color:#42ca4d!important}[data-theme="theme4"] .bg_color[data-v-2167a2f6]{background-color:#1db0fc!important}[data-theme="theme5"] .bg_color[data-v-2167a2f6]{background-color:#ff448f!important}.addAddress .list[data-v-2167a2f6]{background-color:#fff;padding:0 %?24?%}.addAddress .list .item[data-v-2167a2f6]{border-top:%?1?% solid #eee;height:%?90?%;line-height:%?90?%}.addAddress .list .item .name[data-v-2167a2f6]{font-size:%?30?%;color:#333}.addAddress .list .item .address[data-v-2167a2f6]{flex:1;margin-left:%?50?%}.addAddress .list .item uni-input[data-v-2167a2f6]{width:%?475?%;font-size:%?30?%;font-weight:400}.addAddress .list .item .placeholder[data-v-2167a2f6]{color:#ccc}.addAddress .list .item uni-picker .picker[data-v-2167a2f6]{width:%?410?%;font-size:%?30?%}.addAddress .default[data-v-2167a2f6]{padding:0 %?30?%;height:%?90?%;background-color:#fff;margin-top:%?23?%}.addAddress .default uni-checkbox[data-v-2167a2f6]{margin-right:%?15?%}.addAddress .keepBnt[data-v-2167a2f6]{width:%?690?%;height:%?86?%;border-radius:%?50?%;text-align:center;line-height:%?86?%;margin:%?80?% auto %?24?% auto;font-size:%?32?%;color:#fff}.addAddress .wechatAddress[data-v-2167a2f6]{width:%?690?%;height:%?86?%;border-radius:%?50?%;text-align:center;line-height:%?86?%;margin:0 auto;font-size:%?32?%;color:theme;border:theme}[data-theme="theme1"] .addAddress .wechatAddress[data-v-2167a2f6]{color:#e93323!important}[data-theme="theme2"] .addAddress .wechatAddress[data-v-2167a2f6]{color:#fe5c2d!important}[data-theme="theme3"] .addAddress .wechatAddress[data-v-2167a2f6]{color:#42ca4d!important}[data-theme="theme4"] .addAddress .wechatAddress[data-v-2167a2f6]{color:#1db0fc!important}[data-theme="theme5"] .addAddress .wechatAddress[data-v-2167a2f6]{color:#ff448f!important}[data-theme="theme1"] .addAddress .wechatAddress[data-v-2167a2f6]{border:1px solid #e93323}[data-theme="theme2"] .addAddress .wechatAddress[data-v-2167a2f6]{border:1px solid #fe5c2d}[data-theme="theme3"] .addAddress .wechatAddress[data-v-2167a2f6]{border:1px solid #42ca4d}[data-theme="theme4"] .addAddress .wechatAddress[data-v-2167a2f6]{border:1px solid #1db0fc}[data-theme="theme5"] .addAddress .wechatAddress[data-v-2167a2f6]{border:1px solid #ff448f}.font_color[data-v-2167a2f6]{color:theme}[data-theme="theme1"] .font_color[data-v-2167a2f6]{color:#e93323!important}[data-theme="theme2"] .font_color[data-v-2167a2f6]{color:#fe5c2d!important}[data-theme="theme3"] .font_color[data-v-2167a2f6]{color:#42ca4d!important}[data-theme="theme4"] .font_color[data-v-2167a2f6]{color:#1db0fc!important}[data-theme="theme5"] .font_color[data-v-2167a2f6]{color:#ff448f!important}.relative[data-v-2167a2f6]{position:relative}.icon-dizhi[data-v-2167a2f6]{font-size:%?44?%;z-index:100}.abs_right[data-v-2167a2f6]{position:absolute;right:0}[data-v-2167a2f6] uni-checkbox .uni-checkbox-input.uni-checkbox-input-checked{background-color:theme;border:theme;color:#fff!important}[data-theme="theme1"][data-v-2167a2f6] uni-checkbox .uni-checkbox-input.uni-checkbox-input-checked{background-color:#e93323!important}[data-theme="theme2"][data-v-2167a2f6] uni-checkbox .uni-checkbox-input.uni-checkbox-input-checked{background-color:#fe5c2d!important}[data-theme="theme3"][data-v-2167a2f6] uni-checkbox .uni-checkbox-input.uni-checkbox-input-checked{background-color:#42ca4d!important}[data-theme="theme4"][data-v-2167a2f6] uni-checkbox .uni-checkbox-input.uni-checkbox-input-checked{background-color:#1db0fc!important}[data-theme="theme5"][data-v-2167a2f6] uni-checkbox .uni-checkbox-input.uni-checkbox-input-checked{background-color:#ff448f!important}[data-theme="theme1"][data-v-2167a2f6] uni-checkbox .uni-checkbox-input.uni-checkbox-input-checked{border:1px solid #e93323}[data-theme="theme2"][data-v-2167a2f6] uni-checkbox .uni-checkbox-input.uni-checkbox-input-checked{border:1px solid #fe5c2d}[data-theme="theme3"][data-v-2167a2f6] uni-checkbox .uni-checkbox-input.uni-checkbox-input-checked{border:1px solid #42ca4d}[data-theme="theme4"][data-v-2167a2f6] uni-checkbox .uni-checkbox-input.uni-checkbox-input-checked{border:1px solid #1db0fc}[data-theme="theme5"][data-v-2167a2f6] uni-checkbox .uni-checkbox-input.uni-checkbox-input-checked{border:1px solid #ff448f}[data-v-2167a2f6] uni-checkbox .wx-checkbox-input.wx-checkbox-input-checked{background-color:theme;border:theme;color:#fff!important;margin-right:0!important}[data-theme="theme1"][data-v-2167a2f6] uni-checkbox .wx-checkbox-input.wx-checkbox-input-checked{background-color:#e93323!important}[data-theme="theme2"][data-v-2167a2f6] uni-checkbox .wx-checkbox-input.wx-checkbox-input-checked{background-color:#fe5c2d!important}[data-theme="theme3"][data-v-2167a2f6] uni-checkbox .wx-checkbox-input.wx-checkbox-input-checked{background-color:#42ca4d!important}[data-theme="theme4"][data-v-2167a2f6] uni-checkbox .wx-checkbox-input.wx-checkbox-input-checked{background-color:#1db0fc!important}[data-theme="theme5"][data-v-2167a2f6] uni-checkbox .wx-checkbox-input.wx-checkbox-input-checked{background-color:#ff448f!important}[data-theme="theme1"][data-v-2167a2f6] uni-checkbox .wx-checkbox-input.wx-checkbox-input-checked{border:1px solid #e93323}[data-theme="theme2"][data-v-2167a2f6] uni-checkbox .wx-checkbox-input.wx-checkbox-input-checked{border:1px solid #fe5c2d}[data-theme="theme3"][data-v-2167a2f6] uni-checkbox .wx-checkbox-input.wx-checkbox-input-checked{border:1px solid #42ca4d}[data-theme="theme4"][data-v-2167a2f6] uni-checkbox .wx-checkbox-input.wx-checkbox-input-checked{border:1px solid #1db0fc}[data-theme="theme5"][data-v-2167a2f6] uni-checkbox .wx-checkbox-input.wx-checkbox-input-checked{border:1px solid #ff448f}',""]),e.exports=t},"63fc":function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticStyle:{"touch-action":"none"}},[a("v-uni-view",{staticClass:"home",staticStyle:{position:"fixed"},style:{top:e.top+"px"},attrs:{id:"right-nav"},on:{touchmove:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.setTouchMove.apply(void 0,arguments)}}},[e.homeActive?a("v-uni-view",{staticClass:"homeCon bg-color-red",class:!0===e.homeActive?"on":""},[a("v-uni-navigator",{staticClass:"iconfont icon-shouye-xianxing",attrs:{"hover-class":"none",url:"/pages/index/index","open-type":"switchTab"}}),a("v-uni-navigator",{staticClass:"iconfont icon-caigou-xianxing",attrs:{"hover-class":"none",url:"/pages/order_addcart/order_addcart","open-type":"switchTab"}}),a("v-uni-navigator",{staticClass:"iconfont icon-yonghu1",attrs:{"hover-class":"none",url:"/pages/user/index","open-type":"switchTab"}})],1):e._e(),a("v-uni-view",{staticClass:"pictrueBox",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.open.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"pictrue"},[a("v-uni-image",{staticClass:"image",attrs:{src:!0===e.homeActive?"/static/images/close.gif":"/static/images/open.gif"}})],1)],1)],1)],1)},n=[]},"6bc2":function(e,t,a){"use strict";a.r(t);var i=a("edd9"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},"6da4":function(e,t,a){"use strict";var i=a("c63f"),n=a.n(i);n.a},"82e0":function(e,t,a){"use strict";a.r(t);var i=a("d9f1"),n=a("6bc2");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("6da4");var d=a("828b"),c=Object(d["a"])(n["default"],i["b"],i["c"],!1,null,"2167a2f6",null,!1,i["a"],void 0);t["default"]=c.exports},"84a5":function(e,t,a){var i=a("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/*引入主题变色的scss文件*/\n/* 颜色变量 */\n/*\n@mixin 指令允许我们定义一个可以在整个样式表中重复使用的样式。\n*/\n/*定义全局颜色变量*/\n/*主色*/\n/* 辅色*/\n/* 价格色*/\n/*左侧按钮*/\n/*主渐变色*/\n/*辅色渐变*/\n/* 行为相关颜色 */\n/* crmeb颜色变量 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/*字体颜色(少部分其他,不限于字体)*/\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.pictrueBox[data-v-dd954842]{width:%?130?%;height:%?120?%}\n/*返回主页按钮*/.home[data-v-dd954842]{position:fixed;color:#fff;text-align:center;z-index:9999;right:%?15?%;display:flex}.home .homeCon[data-v-dd954842]{border-radius:%?50?%;opacity:0;height:0;color:#e93323;width:0}.home .homeCon.on[data-v-dd954842]{opacity:1;-webkit-animation:bounceInRight .5s cubic-bezier(.215,.61,.355,1);animation:bounceInRight .5s cubic-bezier(.215,.61,.355,1);width:%?300?%;height:%?86?%;margin-bottom:%?20?%;display:flex;justify-content:center;align-items:center;\n  /* background: #f44939 !important; */background-color:theme}[data-theme="theme1"] .home .homeCon.on[data-v-dd954842]{background-color:#e93323!important}[data-theme="theme2"] .home .homeCon.on[data-v-dd954842]{background-color:#fe5c2d!important}[data-theme="theme3"] .home .homeCon.on[data-v-dd954842]{background-color:#42ca4d!important}[data-theme="theme4"] .home .homeCon.on[data-v-dd954842]{background-color:#1db0fc!important}[data-theme="theme5"] .home .homeCon.on[data-v-dd954842]{background-color:#ff448f!important}.home .homeCon .iconfont[data-v-dd954842]{font-size:%?48?%;color:#fff;display:inline-block;margin:0 auto}.home .pictrue[data-v-dd954842]{width:%?86?%;height:%?86?%;border-radius:50%;margin:0 auto}.home .pictrue .image[data-v-dd954842]{background-color:theme;width:100%;height:100%;border-radius:50%;-webkit-transform:rotate(90deg);transform:rotate(90deg);ms-transform:rotate(90deg);moz-transform:rotate(90deg);webkit-transform:rotate(90deg);o-transform:rotate(90deg)}[data-theme="theme1"] .home .pictrue .image[data-v-dd954842]{background-color:#e93323!important}[data-theme="theme2"] .home .pictrue .image[data-v-dd954842]{background-color:#fe5c2d!important}[data-theme="theme3"] .home .pictrue .image[data-v-dd954842]{background-color:#42ca4d!important}[data-theme="theme4"] .home .pictrue .image[data-v-dd954842]{background-color:#1db0fc!important}[data-theme="theme5"] .home .pictrue .image[data-v-dd954842]{background-color:#ff448f!important}',""]),e.exports=t},b3c1:function(e,t,a){"use strict";a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a("8f59"),n={name:"Home",props:{},data:function(){return{top:"500"}},computed:(0,i.mapGetters)(["homeActive"]),methods:{setTouchMove:function(e){e.touches[0].clientY<545&&e.touches[0].clientY>66&&(this.top=e.touches[0].clientY)},open:function(){this.homeActive?this.$store.commit("CLOSE_HOME"):this.$store.commit("OPEN_HOME")}},created:function(){}};t.default=n},c63f:function(e,t,a){var i=a("55e3");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("967d").default;n("30082653",i,!0,{sourceMap:!1,shadowMode:!1})},d9f1:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{attrs:{"data-theme":e.theme}},[a("v-uni-form",{attrs:{"report-submit":"true"},on:{submit:function(t){arguments[0]=t=e.$handleEvent(t),e.formSubmit.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"addAddress pad30"},[a("v-uni-view",{staticClass:"list borRadius14"},[a("v-uni-view",{staticClass:"item acea-row row-between-wrapper",staticStyle:{border:"none"}},[a("v-uni-view",{staticClass:"name"},[e._v("姓名")]),a("v-uni-input",{attrs:{type:"text",placeholder:"请输入姓名","placeholder-style":"color:#ccc;",name:"realName",value:e.userAddress.realName,"placeholder-class":"placeholder",maxlength:"20"}})],1),a("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[a("v-uni-view",{staticClass:"name"},[e._v("联系电话")]),a("v-uni-input",{attrs:{type:"number",placeholder:"请输入联系电话","placeholder-style":"color:#ccc;",name:"phone",value:e.userAddress.phone,"placeholder-class":"placeholder",maxlength:"11"}})],1),a("v-uni-view",{staticClass:"item acea-row row-between-wrapper relative"},[a("v-uni-view",{staticClass:"name"},[e._v("所在地区")]),a("v-uni-view",{staticClass:"address"},[a("v-uni-picker",{attrs:{mode:"multiSelector",value:e.valueRegion,range:e.multiArray},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindRegionChange.apply(void 0,arguments)},columnchange:function(t){arguments[0]=t=e.$handleEvent(t),e.bindMultiPickerColumnChange.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"acea-row"},[a("v-uni-view",{staticClass:"picker line1"},[e._v(e._s(e.region[0])+"，"+e._s(e.region[1])+"，"+e._s(e.region[2]))]),a("v-uni-view",{staticClass:"iconfont icon-xiangyou abs_right"})],1)],1)],1)],1),a("v-uni-view",{staticClass:"item acea-row row-between-wrapper relative"},[a("v-uni-view",{staticClass:"name"},[e._v("详细地址")]),a("v-uni-input",{attrs:{type:"text",placeholder:"请填写具体地址","placeholder-style":"color:#ccc;",name:"detail","placeholder-class":"placeholder",maxlength:"14"},model:{value:e.userAddress.detail,callback:function(t){e.$set(e.userAddress,"detail",t)},expression:"userAddress.detail"}}),a("v-uni-view",{staticClass:"iconfont icon-dizhi font_color abs_right",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.chooseLocation.apply(void 0,arguments)}}})],1)],1),a("v-uni-view",{staticClass:"default acea-row row-middle borRadius14"},[a("v-uni-checkbox-group",{on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.ChangeIsDefault.apply(void 0,arguments)}}},[a("v-uni-checkbox",{attrs:{checked:e.userAddress.isDefault}}),e._v("设置为默认地址")],1)],1),a("v-uni-button",{staticClass:"keepBnt bg_color",attrs:{"form-type":"submit"}},[e._v("立即保存")]),this.$wechat.isWeixin()&&!e.id?a("v-uni-view",{staticClass:"wechatAddress",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getAddress.apply(void 0,arguments)}}},[e._v("导入微信地址")]):e._e()],1)],1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.showLoading,expression:"showLoading"}],staticClass:"bg-fixed"})],1)},n=[]},e959:function(e,t,a){"use strict";a.r(t);var i=a("b3c1"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},e9f4:function(e,t,a){var i=a("84a5");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("967d").default;n("6b30b63a",i,!0,{sourceMap:!1,shadowMode:!1})},edd9:function(e,t,a){"use strict";(function(e){a("6a54");var i=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("bf0f"),a("2797"),a("aa9c"),a("fd3c"),a("5c47"),a("0506");var n=a("ef23"),o=a("b4d4"),d=(a("b663"),a("dd2a")),c=a("8f59"),r=i(a("31ca")),s=a("bab7"),u=getApp(),h={components:{home:r.default},data:function(){return{cartId:"",pinkId:0,couponId:0,id:0,userAddress:{isDefault:!1},region:["省","市","区"],valueRegion:[0,0,0],isAuto:!1,isShowAuth:!1,district:[],multiArray:[],multiIndex:[0,0,0],cityId:0,bargain:!1,combination:!1,secKill:!1,theme:u.globalData.theme,showLoading:!1}},computed:(0,c.mapGetters)(["isLogin"]),watch:{isLogin:{handler:function(e,t){e&&this.getUserAddress()},deep:!0}},onLoad:function(e){var t=this;this.$Cache.getItem("cityList")?(this.district=this.$Cache.getItem("cityList"),this.initialize()):(this.showLoading=!0,uni.showLoading({title:"数据加载中..."}),(0,o.getCityList)().then((function(e){t.district=e,t.initialize(),uni.hideLoading(),t.showLoading=!1}))),this.isLogin?(this.preOrderNo=e.preOrderNo||0,this.id=e.id||0,uni.setNavigationBarTitle({title:e.id?"修改地址":"添加地址"}),this.getUserAddress()):(0,d.toLogin)()},methods:{getUserAddress:function(){if(!this.id)return!1;var e=this;(0,n.getAddressDetail)(this.id).then((function(t){if(t.data){var a=[t.data.province,t.data.city,t.data.district];e.$set(e,"userAddress",t.data),e.$set(e,"region",a),e.city_id=t.data.cityId}}))},initialize:function(){var e=this,t=[],a=[],i=[];if(e.district.length){var n=e.district[0].child||[];n.length&&n[0].child;e.district.forEach((function(a,i){t.push(a.name),a.name===e.region[0]&&(e.valueRegion[0]=i,e.multiIndex[0]=i)})),e.district[this.valueRegion[0]].child.forEach((function(t,i){a.push(t.name),e.region[1]==t.name&&(e.valueRegion[1]=i,e.multiIndex[1]=i)})),e.district[this.valueRegion[0]].child[this.valueRegion[1]].child.forEach((function(t,a){i.push(t.name),e.region[2]==t.name&&(e.valueRegion[2]=a,e.multiIndex[2]=a)})),this.multiArray=[t,a,i]}},bindRegionChange:function(e){var t=this.multiIndex,a=this.district[t[0]]||{child:[]},i=a.child[t[1]]||{child:[]},n=i.child[t[2]]||{cityId:0},o=this.multiArray,d=e.detail.value;this.region=[o[0][d[0]],o[1][d[1]],o[2][d[2]]],this.cityId=n.cityId,this.valueRegion=[0,0,0],this.initialize()},bindMultiPickerColumnChange:function(e){var t=e.detail.column,a=e.detail.value,i=this.district[a]||{child:[]},n=this.multiArray,o=this.multiIndex;switch(o[t]=a,t){case 0:var d=i.child[0]||{child:[]};n[1]=i.child.map((function(e){return e.name})),n[2]=d.child.map((function(e){return e.name}));break;case 1:var c=this.district[o[0]].child[o[1]].child||[];n[2]=c.map((function(e){return e.name}));break;case 2:break}this.multiArray=n,this.multiIndex=o},onLoadFun:function(){this.getUserAddress()},authColse:function(e){this.isShowAuth=e},toggleTab:function(e){this.$refs[e].show()},onConfirm:function(e){this.region=e.checkArr[0]+"-"+e.checkArr[1]+"-"+e.checkArr[2]},chooseLocation:function(){var e=this;uni.chooseLocation({success:function(t){e.$set(e.userAddress,"detail",t.name)}})},getWxAddress:function(){var e=this;uni.authorize({scope:"scope.address",success:function(t){uni.chooseAddress({success:function(t){var a={};a.province=t.provinceName,a.city=t.cityName,a.district=t.countyName,a.cityId=0,(0,n.editAddress)({address:a,isDefault:1,realName:t.userName,postCode:t.postalCode,phone:t.telNumber,detail:t.detailInfo,id:0}).then((function(t){return setTimeout((function(){if(e.cartId){var a=e.cartId,i=e.pinkId,n=e.couponId;e.cartId="",e.pinkId="",e.couponId="",uni.navigateTo({url:"/pages/users/order_confirm/index?cartId="+a+"&addressId="+(e.id?e.id:t.data.id)+"&pinkId="+i+"&couponId="+n+"&secKill="+e.secKill+"&combination="+e.combination+"&bargain="+e.bargain})}else uni.navigateBack({delta:1})}),1e3),e.$util.Tips({title:"添加成功",icon:"success"})})).catch((function(t){return e.$util.Tips({title:t})}))},fail:function(t){if("chooseAddress:cancel"==t.errMsg)return e.$util.Tips({title:"取消选择"})}})},fail:function(t){uni.showModal({title:"您已拒绝导入微信地址权限",content:"是否进入权限管理，调整授权？",success:function(t){if(t.confirm)uni.openSetting({success:function(e){}});else if(t.cancel)return e.$util.Tips({title:"已取消！"})}})}})},getAddress:function(){var e=this,t=this;t.$wechat.openAddress().then((function(a){(0,n.editAddress)({id:e.id,realName:a.userName,phone:a.telNumber,address:{province:a.provinceName,city:a.cityName,district:a.countryName,cityId:0},detail:a.detailInfo,isDefault:1,postCode:a.postalCode}).then((function(){setTimeout((function(){if(t.cartId){var e=t.cartId,a=t.pinkId,i=t.couponId;t.cartId="",t.pinkId="",t.couponId="",uni.navigateTo({url:"/pages/users/order_confirm/index?cartId="+e+"&addressId="+(t.id?t.id:res.data.id)+"&pinkId="+a+"&couponId="+i+"&secKill="+t.secKill+"&combination="+t.combination+"&bargain="+t.bargain})}else uni.navigateTo({url:"/pages/users/user_address_list/index"})}),1e3),t.$util.Tips({title:"添加成功",icon:"success"})})).catch((function(e){return t.$util.Tips({title:e||"添加失败"})}))})).catch((function(e){}))},formSubmit:(0,s.Debounce)((function(e){var t=this,a=e.detail.value;if(!a.realName)return t.$util.Tips({title:"请填写收货人姓名"});if(!a.phone)return t.$util.Tips({title:"请填写联系电话"});if(!/^1(3|4|5|7|8|9|6)\d{9}$/i.test(a.phone))return t.$util.Tips({title:"请输入正确的手机号码"});if("省-市-区"==t.region)return t.$util.Tips({title:"请选择所在地区"});if(!a.detail)return t.$util.Tips({title:"请填写详细地址"});a.id=t.id;var i=t.region;a.address={province:i[0],city:i[1],district:i[2],cityId:t.cityId},a.isDefault=t.userAddress.isDefault,uni.showLoading({title:"保存中",mask:!0}),(0,n.editAddress)(a).then((function(e){t.id?t.$util.Tips({title:"修改成功",icon:"success"}):t.$util.Tips({title:"添加成功",icon:"success"}),setTimeout((function(){if(!(t.preOrderNo>0))return history.back();uni.redirectTo({url:"/pages/users/order_confirm/index?preOrderNo="+t.preOrderNo+"&addressId="+(t.id?t.id:e.data.id)})}),1e3)})).catch((function(e){return t.$util.Tips({title:e})}))})),ChangeIsDefault:function(e){this.$set(this.userAddress,"isDefault",!this.userAddress.isDefault)}}};t.default=h}).call(this,a("ba7c")["default"])}}]);